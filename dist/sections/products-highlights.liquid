<link rel="stylesheet" href="{{ 'products-highlights.css' | asset_url }}">
<style> 
    {% comment %} 
        Section custom css variables
    {% endcomment %}
    {%- assign iconsPerRowDesktop = 0 -%}
    {%- case section.settings.vasta_badges_size -%}
        {%- when 1 -%}
            {%- assign iconsPerRowDesktop = 100 -%}
        {%- when 2 -%}
            {%- assign iconsPerRowDesktop = 50 -%}
        {%- when 3 -%}
            {%- assign iconsPerRowDesktop =  33 -%}
    {%- when 4 -%}
            {%- assign iconsPerRowDesktop = 25 -%}
        {%- when 5 -%}
            {%- assign iconsPerRowDesktop = 20 -%}
        {%- else -%}
            {%- assign iconsPerRowDesktop = 15.9 -%}
    {%- endcase -%}

    {%- assign iconsPerRowTablet = 0 -%}
    {%- case section.settings.vasta_badges_size_tablet -%}
        {%- when 1 -%}
            {%- assign iconsPerRowTablet = 100 -%}
        {%- when 2 -%}
            {%- assign iconsPerRowTablet = 50 -%}
        {%- when 3 -%}
            {%- assign iconsPerRowTablet =  33 -%}
        {%- when 4 -%}
            {%- assign iconsPerRowTablet = 25 -%}
        {%- when 5 -%}
            {%- assign iconsPerRowTablet = 20 -%}
        {%- else -%}
            {%- assign iconsPerRowTablet = 16.6 -%}
    {%- endcase -%}

    {%- assign iconsPerRowMobile = 0 -%}
    {%- case section.settings.vasta_badges_size_mobile -%}
        {%- when 1 -%}
            {%- assign iconsPerRowMobile = 100 -%}
        {%- when 2 -%}
            {%- assign iconsPerRowMobile = 50 -%}
        {%- when 3 -%}
            {%- assign iconsPerRowMobile =  33 -%}
        {%- when 4 -%}
            {%- assign iconsPerRowMobile = 25 -%}
        {%- when 5 -%}
            {%- assign iconsPerRowMobile = 20 -%}
        {%- else -%}
            {%- assign iconsPerRowMobile = 16.6 -%}
    {%- endcase -%}

    #shopify-section-{{ section.id }} {
        {% if section.settings.product1 != blank %}
        --background-color1: {{ section.settings.product1_background }};
        {% endif %}
        {% if section.settings.product2 != blank %}
        --background-color2: {{ section.settings.product2_background }};
        {% endif %}
        --products-highlights--title: {{ section.settings.title_color }};
        --products-highlights--texts: {{ section.settings.text_color }};
        --products-highlights--links: {{ section.settings.links }};
        --button-link-background: {{ section.settings.color_button_link_background }};
        --button-link-text: {{ section.settings.color_button_link_text }};
        --button-link-background-hover: {{ section.settings.color_hover_button_link_background }};
        --button-link-text-hover: {{ section.settings.color_hover_button_link_text }};
        --button-link-x:{{ section.settings.button_link_desktop_x }}%;
        --button-link-y:{{ section.settings.button_link_desktop_y }}%;
        --product1-background-badge-background: {{ section.settings.product1_badge_background }};
        --product1-background-badge-label: {{ section.settings.product1_badge_label }};
        --product2-background-badge-background: {{ section.settings.product2_badge_background }};
        --product2-background-badge-label: {{ section.settings.product2_badge_label }};
        --drawer-description-height: {{ section.settings.drawer_description_height }}px;
        --drawer-description-height-tablet: {{ section.settings.drawer_description_height_tablet }}px;
        --drawer-description-height-mobile: {{ section.settings.drawer_description_height_mobile }}px;
    }
    #shopify-section-{{ section.id }} .products-highlights__uvps {
        display: flex;
        align-items: baseline;
        justify-content: flex-start;
        flex-wrap: wrap;
        width: 100%;
    }
    #shopify-section-{{ section.id }} .products-highlights__uvps-content {
        display: flex;
        flex-direction: {{ section.settings.icons_text_direction }}!important;
        align-items: center;
        justify-content: center;
    }
    #shopify-section-{{ section.id }} .uvp-text-container { 
        margin: 5px 0;
    }

    #shopify-section-{{ section.id }} .products-highlights__uvps-title {
        text-align: center;
        font-weight: 400;
        line-height: 16px;
        font-size: 16px;
        max-width: 80px;
        width: auto;
        word-break: break-word;
    }
    #shopify-section-{{ section.id }} .products-highlights__uvps-content svg {
        height: 40px;
        width: 40px;
    }
    #shopify-section-{{ section.id }} .products-highlights__uvps-content svg,
    #shopify-section-{{ section.id }} .products-highlights__uvps-content path {
          fill:{{ section.settings.icons_color }};
    }

    @media (min-width: 768px) { 
        #shopify-section-{{ section.id }} .products-highlights__uvps-content {
            flex: 0 0 {{ iconsPerRowDesktop }}%;
        }
    }
    
    @media (max-width: 1019px) {
        #shopify-section-{{ section.id }} {
            --button-link-x:{{ section.settings.button_link_tablet_x }}%;
            --button-link-y:{{ section.settings.button_link_tablet_y }}%;
        }
        #shopify-section-{{ section.id }} .products-highlights__uvps {
            justify-content: space-evenly;
            padding: 0 40px;
        }
        #shopify-section-{{ section.id }} .products-highlights__uvps-content {
            flex: 0 0 {{ iconsPerRowTablet }}%;
        }
        #shopify-section-{{ section.id }} .toggle-drawer__icon {
            {% if section.settings.icons_text_direction == 'column-reverse' %}
            margin-top: 6px;
            {% endif %}
        }
        #shopify-section-{{ section.id }} .uvp-text-container { 
            margin: 4px 0 9px;
            width: 80%;
        }
        #shopify-section-{{ section.id }} .products-highlights__uvps-content svg {
            height: 30px;
            width: 30px;
        }

        #shopify-section-{{ section.id }} .products-highlights__uvps-title {
            font-weight: 400;
            font-size: 10px;
            line-height: 10px;
        }
    }
    @media (max-width: 767px) {
        #shopify-section-{{ section.id }} {
            --button-link-x:{{ section.settings.button_link_mobile_x }}%;
            --button-link-y:{{ section.settings.button_link_mobile_y }}%;
        }
        #shopify-section-{{ section.id }} .products-highlights__uvps {
            display: none;
        }
        #shopify-section-{{ section.id }} .products-highlights__uvps-content {
            flex: 0 0 {{ iconsPerRowMobile}}%;
        }
    }
</style>
{% capture headlines %}
    {% if section.settings.title != blank or section.settings.title != '' %}
        <div class="products-highlights__headline">
            <h2 class="products-highlights__title">
                {{ section.settings.title }}
            </h2>
        </div>
    {% endif %}
{% endcapture %}

{% assign background1_svg = section.settings.product1_background_svg %}
{% assign product1_background_svg_color = background1_svg | default: '#F8F8F8' %}
{% capture background1 %}
        <svg width="437" height="241" viewBox="0 0 437 241" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 0.380859H51.8024V177.04H0V0.380859Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M128.842 240.078H77.0395V63.4188H128.842V240.078Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M154.079 0.380859H205.881V177.04H154.079V0.380859Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M231.119 240.078H282.921V63.4188H231.119V240.078Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M308.158 0.380859H359.96V177.04H308.158V0.380859Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M385.198 240.078H437V63.4188H385.198V240.078Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M46.6241 240.078C49.8757 235.749 51.8024 230.369 51.8024 224.538C51.8024 210.233 40.2061 198.636 25.9012 198.636C11.5964 198.636 0 210.233 0 224.538C0 230.369 1.92674 235.749 5.17828 240.078H46.6241Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M82.2178 0.380875C78.9663 4.70979 77.0395 10.0907 77.0395 15.9215C77.0395 30.2264 88.6359 41.8228 102.941 41.8228C117.246 41.8228 128.842 30.2264 128.842 15.9215C128.842 10.0907 126.915 4.70979 123.664 0.380875H82.2178Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M200.703 240.078C203.955 235.749 205.881 230.369 205.881 224.538C205.881 210.233 194.285 198.636 179.98 198.636C165.675 198.636 154.079 210.233 154.079 224.538C154.079 230.369 156.006 235.749 159.257 240.078H200.703Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M277.743 0.380859C280.994 4.70977 282.921 10.0906 282.921 15.9215C282.921 30.2264 271.325 41.8228 257.02 41.8228C242.715 41.8228 231.119 30.2264 231.119 15.9215C231.119 10.0906 233.045 4.70977 236.297 0.380859H277.743Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M354.782 240.078C358.034 235.749 359.96 230.369 359.96 224.538C359.96 210.233 348.364 198.636 334.059 198.636C319.754 198.636 308.158 210.233 308.158 224.538C308.158 230.369 310.085 235.749 313.336 240.078H354.782Z" fill="{{ product1_background_svg_color }}"/>
            <path d="M431.822 0.380859C435.073 4.70977 437 10.0906 437 15.9215C437 30.2264 425.404 41.8228 411.099 41.8228C396.794 41.8228 385.198 30.2264 385.198 15.9215C385.198 10.0906 387.124 4.70977 390.376 0.380859H431.822Z" fill="{{ product1_background_svg_color }}"/>
        </svg>
{% endcapture %}

{% assign background2_svg = section.settings.product2_background_svg %}
{% assign product2_background_svg_color = background2_svg | default: '#F8F8F8' %}
{% capture background2 %}
        <svg width="437" height="241" viewBox="0 0 437 241" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 0.380859H51.8024V177.04H0V0.380859Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M128.842 240.078H77.0395V63.4188H128.842V240.078Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M154.079 0.380859H205.881V177.04H154.079V0.380859Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M231.119 240.078H282.921V63.4188H231.119V240.078Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M308.158 0.380859H359.96V177.04H308.158V0.380859Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M385.198 240.078H437V63.4188H385.198V240.078Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M46.6241 240.078C49.8757 235.749 51.8024 230.369 51.8024 224.538C51.8024 210.233 40.2061 198.636 25.9012 198.636C11.5964 198.636 0 210.233 0 224.538C0 230.369 1.92674 235.749 5.17828 240.078H46.6241Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M82.2178 0.380875C78.9663 4.70979 77.0395 10.0907 77.0395 15.9215C77.0395 30.2264 88.6359 41.8228 102.941 41.8228C117.246 41.8228 128.842 30.2264 128.842 15.9215C128.842 10.0907 126.915 4.70979 123.664 0.380875H82.2178Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M200.703 240.078C203.955 235.749 205.881 230.369 205.881 224.538C205.881 210.233 194.285 198.636 179.98 198.636C165.675 198.636 154.079 210.233 154.079 224.538C154.079 230.369 156.006 235.749 159.257 240.078H200.703Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M277.743 0.380859C280.994 4.70977 282.921 10.0906 282.921 15.9215C282.921 30.2264 271.325 41.8228 257.02 41.8228C242.715 41.8228 231.119 30.2264 231.119 15.9215C231.119 10.0906 233.045 4.70977 236.297 0.380859H277.743Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M354.782 240.078C358.034 235.749 359.96 230.369 359.96 224.538C359.96 210.233 348.364 198.636 334.059 198.636C319.754 198.636 308.158 210.233 308.158 224.538C308.158 230.369 310.085 235.749 313.336 240.078H354.782Z" fill="{{ product2_background_svg_color }}"/>
            <path d="M431.822 0.380859C435.073 4.70977 437 10.0906 437 15.9215C437 30.2264 425.404 41.8228 411.099 41.8228C396.794 41.8228 385.198 30.2264 385.198 15.9215C385.198 10.0906 387.124 4.70977 390.376 0.380859H431.822Z" fill="{{ product2_background_svg_color }}"/>
        </svg>
{% endcapture %}

{% capture background1_tablet %}
    <svg width="383" height="465" viewBox="0 0 383 465" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 -69.5468H157.267V466.773H0V-69.5468Z" fill="{{ product1_background_svg_color }}"/>
        <path d="M233.884 658.149H391.15V121.83H233.884V658.149Z" fill="{{ product1_background_svg_color }}"/>
        <path d="M157.267 610.97C157.267 654.398 122.061 689.604 78.6333 689.604C35.2053 689.604 0 654.398 0 610.97C0 567.542 35.2053 532.337 78.6333 532.337C122.061 532.337 157.267 567.542 157.267 610.97Z" fill="{{ product1_background_svg_color }}"/>
        <path d="M391.15 -22.3667C391.15 -65.7947 355.945 -101 312.517 -101C269.089 -101 233.884 -65.7947 233.884 -22.3667C233.884 21.0613 269.089 56.2667 312.517 56.2667C355.945 56.2667 391.15 21.0613 391.15 -22.3667Z" fill="{{ product1_background_svg_color }}"/>
    </svg>
{% endcapture %}

{% capture background2_tablet %}
    <svg width="383" height="465" viewBox="0 0 383 465" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 -69.5468H157.267V466.773H0V-69.5468Z" fill="{{ product2_background_svg_color }}"/>
        <path d="M233.884 658.149H391.15V121.83H233.884V658.149Z" fill="{{ product2_background_svg_color }}"/>
        <path d="M157.267 610.97C157.267 654.398 122.061 689.604 78.6333 689.604C35.2053 689.604 0 654.398 0 610.97C0 567.542 35.2053 532.337 78.6333 532.337C122.061 532.337 157.267 567.542 157.267 610.97Z" fill="{{ product2_background_svg_color }}"/>
        <path d="M391.15 -22.3667C391.15 -65.7947 355.945 -101 312.517 -101C269.089 -101 233.884 -65.7947 233.884 -22.3667C233.884 21.0613 269.089 56.2667 312.517 56.2667C355.945 56.2667 391.15 21.0613 391.15 -22.3667Z" fill="{{ product2_background_svg_color }}"/>
    </svg>
{% endcapture %}

{% capture background1_mobile %}
    <svg width="191" height="355" viewBox="0 0 191 355" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0.000167911 -37.8979H76.8906V284.733H0.000167911V-37.8979Z" fill="{{ product1_background_svg_color }}"/>
        <path d="M191.24 399.859H114.35V77.2276H191.24V399.859Z" fill="{{ product1_background_svg_color }}"/>
        <path d="M76.8904 371.478C76.8904 397.602 59.6779 418.781 38.4452 418.781C17.2125 418.781 0 397.602 0 371.478C0 345.353 17.2125 324.174 38.4452 324.174C59.6779 324.174 76.8904 345.353 76.8904 371.478Z" fill="{{ product1_background_svg_color }}"/>
        <path d="M114.35 -9.51601C114.35 -35.6408 131.563 -56.8191 152.795 -56.8191C174.028 -56.8191 191.241 -35.6408 191.241 -9.51601C191.241 16.6088 174.028 37.7871 152.795 37.7871C131.563 37.7871 114.35 16.6088 114.35 -9.51601Z" fill="{{ product1_background_svg_color }}"/>
    </svg>
{% endcapture %}


{% capture background2_mobile %}
    <svg width="191" height="355" viewBox="0 0 191 355" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0.000167911 -37.8979H76.8906V284.733H0.000167911V-37.8979Z" fill="{{ product2_background_svg_color }}"/>
        <path d="M191.24 399.859H114.35V77.2276H191.24V399.859Z" fill="{{ product2_background_svg_color }}"/>
        <path d="M76.8904 371.478C76.8904 397.602 59.6779 418.781 38.4452 418.781C17.2125 418.781 0 397.602 0 371.478C0 345.353 17.2125 324.174 38.4452 324.174C59.6779 324.174 76.8904 345.353 76.8904 371.478Z" fill="{{ product2_background_svg_color }}"/>
        <path d="M114.35 -9.51601C114.35 -35.6408 131.563 -56.8191 152.795 -56.8191C174.028 -56.8191 191.241 -35.6408 191.241 -9.51601C191.241 16.6088 174.028 37.7871 152.795 37.7871C131.563 37.7871 114.35 16.6088 114.35 -9.51601Z" fill="{{ product2_background_svg_color }}"/>
    </svg>
{% endcapture %}

{% capture drawer_background_tablet %}
    <svg width="767" height="465" viewBox="0 0 767 465" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_5_2)">
        <rect x="383" y="-18" width="384" height="483" fill="#F8F8F8"/>
        <rect y="-18" width="383" height="483" fill="white"/>
        <mask id="mask0_5_2" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="236" y="0" width="531" height="465">
        <path d="M236 0H767V465H236V0Z" fill="#F8F8F8"/>
        </mask>
        <g mask="url(#mask0_5_2)">
        <path d="M376 -49.6526H533.267V373.04H376V-49.6526Z" fill="white"/>
        <path d="M767.15 523.871H609.884V101.178H767.15V523.871Z" fill="white"/>
        <path d="M533.267 486.687C533.267 520.914 498.061 548.661 454.633 548.661C411.205 548.661 376 520.914 376 486.687C376 452.46 411.205 424.714 454.633 424.714C498.061 424.714 533.267 452.46 533.267 486.687Z" fill="white"/>
        <path d="M609.884 -12.4682C609.884 -46.6953 645.089 -74.4419 688.517 -74.4419C731.945 -74.4419 767.15 -46.6953 767.15 -12.4682C767.15 21.759 731.945 49.5055 688.517 49.5055C645.089 49.5055 609.884 21.759 609.884 -12.4682Z" fill="white"/>
        </g>
        <mask id="mask1_5_2" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="383" height="465">
        <path d="M383 0H0V465H383V0Z" fill="white"/>
        </mask>
        <g mask="url(#mask1_5_2)">
        <path d="M0 -50.0835H157.267V372.609H0V-50.0835Z" fill="#F8F8F8"/>
        <path d="M233.884 523.439H391.15V100.747H233.884V523.439Z" fill="#F8F8F8"/>
        <path d="M157.267 486.256C157.267 520.483 122.061 548.23 78.6333 548.23C35.2053 548.23 0 520.483 0 486.256C0 452.029 35.2053 424.283 78.6333 424.283C122.061 424.283 157.267 452.029 157.267 486.256Z" fill="#F8F8F8"/>
        <path d="M391.15 -12.8992C391.15 -47.1263 355.945 -74.8729 312.517 -74.8729C269.089 -74.8729 233.884 -47.1263 233.884 -12.8992C233.884 21.328 269.089 49.0746 312.517 49.0746C355.945 49.0746 391.15 21.328 391.15 -12.8992Z" fill="#F8F8F8"/>
        </g>
        </g>
        <defs>
        <clipPath id="clip0_5_2">
        <rect width="767" height="465" fill="white"/>
        </clipPath>
        </defs>
    </svg>
{% endcapture %}

{% capture drawer_background_mobile %}
    <svg width="375" height="356" viewBox="0 0 375 356" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="171" y="0.92334" width="204" height="354.854" fill="#F8F8F8"/>
        <rect y="0.92334" width="187.255" height="354.924" fill="white"/>
        <mask id="mask0_1191_1613" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="188" height="356">
        <rect y="0.92334" width="187.5" height="354.924" fill="white"/>
        </mask>
        <g mask="url(#mask0_1191_1613)">
        <path d="M0 -36.9738H76.8904V285.657H0V-36.9738Z" fill="#F8F8F8"/>
        <path d="M114.349 400.783H191.24V78.1517H114.349V400.783Z" fill="#F8F8F8"/>
        <path d="M76.8904 372.402C76.8904 398.527 59.6779 419.705 38.4452 419.705C17.2125 419.705 0 398.527 0 372.402C0 346.277 17.2125 325.099 38.4452 325.099C59.6779 325.099 76.8904 346.277 76.8904 372.402Z" fill="#F8F8F8"/>
        <path d="M191.24 -8.59193C191.24 -34.7167 174.027 -55.895 152.795 -55.895C131.562 -55.895 114.35 -34.7167 114.35 -8.59193C114.35 17.5328 131.562 38.7112 152.795 38.7112C174.027 38.7112 191.24 17.5328 191.24 -8.59193Z" fill="#F8F8F8"/>
        </g>
        <mask id="mask1_1191_1613" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="171" y="0" width="204" height="356">
        <rect x="171" y="0.92334" width="204" height="354.854" fill="#F8F8F8"/>
        </mask>
        <g mask="url(#mask1_1191_1613)">
        <path d="M184 -36.9748H260.891V285.656H184V-36.9748Z" fill="white"/>
        <path d="M375.24 400.782H298.35V78.1507H375.24V400.782Z" fill="white"/>
        <path d="M260.89 372.401C260.89 398.525 243.678 419.704 222.445 419.704C201.213 419.704 184 398.525 184 372.401C184 346.276 201.213 325.098 222.445 325.098C243.678 325.098 260.89 346.276 260.89 372.401Z" fill="white"/>
        <path d="M298.35 -8.59291C298.35 -34.7177 315.563 -55.896 336.795 -55.896C358.028 -55.896 375.241 -34.7177 375.241 -8.59291C375.241 17.5319 358.028 38.7102 336.795 38.7102C315.563 38.7102 298.35 17.5319 298.35 -8.59291Z" fill="white"/>
        </g>
    </svg>
{% endcapture %}

{% capture contentView %}
    {% if section.settings.product1 != blank or section.settings.product2 != blank %}
        {% if section.settings.product1 != blank %}
            {% render 'products-highlights-item',
                productTarget: section.settings.product1,
                source: 'product-1'
                custom_metafield: section.settings.custom_metafield,
                background_color: section.settings.product1_background,
                background_icon: background1,
                background_icon_tablet: background1_tablet,
                background_icon_mobile: background1_mobile,
                lazy_load: section.settings.enable_lazy_load.,
                toggle_content: section.settings.product1_enable_toggle_content,
                toggle_content_label: section.settings.product1_toggle_content_label,
                custom_image: section.settings.product1_image,
                custom_title: section.settings.product1_custom_title,
            %}
        {% endif %}
        {% if section.settings.product2 != blank %}
            {% render 'products-highlights-item',
                productTarget: section.settings.product2,
                source: 'product-2'
                custom_metafield: section.settings.custom_metafield,
                background_color: section.settings.product2_background,
                background_icon: background2,
                background_icon_tablet: background2_tablet,
                background_icon_mobile: background2_mobile,
                lazy_load: section.settings.enable_lazy_load.,
                toggle_content: section.settings.product2_enable_toggle_content,
                toggle_content_label: section.settings.product2_toggle_content_label,
                custom_image: section.settings.product2_image,
                custom_title: section.settings.product2_custom_title,
            %}
        {% endif %}
    {% endif %}
{% endcapture %}
 
{% capture contentDrawer %}
    {% if section.settings.product1 != blank or section.settings.product2 != blank %}
        {% if section.settings.product1 != blank %}
            {% render 'products-highlights-drawer',
                productTarget: section.settings.product1,
                source: 'product-1'
                custom_metafield: section.settings.custom_metafield,
                background_color: section.settings.product1_background,
                background_icon: background1,
                background_icon_tablet: drawer_background_tablet,
                background_icon_mobile: drawer_background_mobile,
                lazy_load: section.settings.enable_lazy_load.,
                toggle_content: section.settings.product1_enable_toggle_content,
                toggle_content_label: section.settings.product1_toggle_content_label,
                enable_description: section.settings.product1_enable_description,
                enable_badge: section.settings.product1_enable_badge,
                text_badge: section.settings.product1_badge,
                enable_product_link: section.settings.product1_enable_link_label
                enable_product_link_label: section.settings.product1_link_label,
                this_section_blocks: section.blocks,
                icons_text_direction: section.settings.icons_text_direction,
                enable_custom_description: section.settings.product1_enable_custom_description,
                custom_description: section.settings.product1_custom_description,
                custom_image: section.settings.product1_image,
                custom_title: section.settings.product1_custom_title,
            %}
        {% endif %}
        {% if section.settings.product2 != blank %}
            {% render 'products-highlights-drawer',
                productTarget: section.settings.product2,
                source: 'product-2'
                custom_metafield: section.settings.custom_metafield,
                background_color: section.settings.product2_background,
                background_icon: background2,
                background_icon_tablet: drawer_background_tablet,
                background_icon_mobile: drawer_background_mobile,
                lazy_load: section.settings.enable_lazy_load.,
                toggle_content: section.settings.product2_enable_toggle_content,
                toggle_content_label: section.settings.product2_toggle_content_label,
                enable_description: section.settings.product2_enable_description,
                enable_badge: section.settings.product2_enable_badge,
                text_badge: section.settings.product2_badge,
                enable_product_link: section.settings.product2_enable_link_label,
                enable_product_link_label: section.settings.product2_link_label,
                this_section_blocks: section.blocks,
                icons_text_direction: section.settings.icons_text_direction,
                enable_custom_description: section.settings.product2_enable_custom_description,
                custom_description: section.settings.product2_custom_description,
                custom_image: section.settings.product2_image,
                custom_title: section.settings.product2_custom_title,
            %}
        {% endif %}
    {% endif %}
{% endcapture %}
{% capture button_principal %}
    {% if section.settings.button_label != blank and section.settings.button_link != blank %}
        <div class="products-highlights__cta-content">
            <a class="products-highlights__cta-link customBody4" href="{{ section.settings.button_link }}" target="{{ section.settings.button_link_target }}" aria-hidden="false" title="{{ section.settings.button_label }}">
                <span class="products-highlights__cta-link-text ">
                    {{ section.settings.button_label }}
                </span>
            </a>
        </div>
    {% endif %}
{% endcapture %}
<section class="products-highlights {{ section.settings.custom_class }}">
    {{ headlines }}
    <div class="products-highlights__wrapper">
        {{ button_principal }}
        <div class="products-highlights__content">
            {{ contentView }}
        </div>
    </div>
    <div class="products-highlights__drawer">
        {{ contentDrawer }}
    </div>
</section>
<script src="{{ 'products-highlights.js' | asset_url }}" defer></script>
{% schema %}
    {
        "name": "Product Highlights",
        "class": "products-highlights",
        "settings": [
            {
                "type": "header",
                "content": "General Settings"
            },
            {
                "type": "text",
                "id": "custom_class",
                "label": "Custom Class",
                "info": "Custom class to apply css styles for specific sections"
            },
            {
                "type": "paragraph",
                "content": "Section title"
            },
            {
                "type": "text",
                "id": "title",
                "label": "Section Title",
                "default": "Products Highlights"
            },
            {
                "type": "paragraph",
                "content": "Button floating"
            },
            {
                "type": "text",
                "id": "button_label",
                "label": "Button Label",
                "default": "GET MIX PACK 10% OFF"
            },
            {
                "type": "url",
                "id": "button_link",
                "label": "Button link"
            },
            {
                "type": "select",
                "id": "button_link_target",
                "label": "Button link behavior",
                "options": [
                    {
                        "value": "_target",
                        "label": "New tab"
                    },
                    {
                        "value": "_blank",
                        "label": "Same tab"
                    }
                ]
            },
            {
                "type": "header",
                "content": "Define button floating position"
            },
            {
                "type": "paragraph",
                "content": "Desktop"
            },
            { 
                "type": "range",
                "id": "button_link_desktop_x",
                "min": 2,
                "max": 100,
                "step": 2,
                "unit": "%", 
                "label": "Button Link Hoziontal",
                "default": 100
            },
            {
                "type": "range",
                "id": "button_link_desktop_y",
                "min": 2,
                "max": 100,
                "step": 1,
                "unit": "%",
                "label": "Button Link Vertical",
                "default": 100
            },
            {
                "type": "paragraph",
                "content": "Tablet"
            },
            {
                "type": "range",
                "id": "button_link_tablet_x",
                "min": 2,
                "max": 100,
                "step": 1,
                "unit": "%",
                "label": "Button Link Hoziontal",
                "default": 100
            },
            {
                "type": "range",
                "id": "button_link_tablet_y",
                "min": 2,
                "max": 100,
                "step": 1,
                "unit": "%",
                "label": "Button Link Vertical",
                "default": 100
            },
            {
                "type": "paragraph",
                "content": "Mobile"
            },
            {
                "type": "range",
                "id": "button_link_mobile_x",
                "min": 2,
                "max": 100,
                "step": 1,
                "unit": "%",
                "label": "Button Link Hoziontal",
                "default": 100
            },
            {
                "type": "range",
                "id": "button_link_mobile_y",
                "min": 2,
                "max": 100,
                "step": 1,
                "unit": "%",
                "label": "Button Link Vertical",
                "default": 100
            },
            {
                "type": "paragraph",
                "content": "Button link colors"
            },
            {
                "type": "color",
                "id": "color_button_link_background",
                "label": "Background"
            },
            {
                "type": "color",
                "id": "color_button_link_text",
                "label": "Text"
            },
            {
                "type": "color",
                "id": "color_hover_button_link_background",
                "label": "Background on hover"
            },
            {
                "type": "color",
                "id": "color_hover_button_link_text",
                "label": "Text on hover"
            },
            {
                "type": "paragraph",
                "content": "Custom Metafield"
            },
            {
                "type": "checkbox",
                "id": "custom_metafield",
                "label": "Enable Custom Metafield",
                "default": false
            },
            {
                "type": "paragraph",
                "content": "Images pagespeed"
            },
            {
                "type": "checkbox",
                "id": "enable_lazy_load",
                "label": "Enable Lazy Load",
                "default": false
            },
            {
                "type": "header",
                "content": "Product 1"
            },
            {
                "type": "paragraph",
                "content": "Custom background"
            },
            {
                "type": "color",
                "id": "product1_background",
                "label": "Background Product Item"
            },
            {
                "type": "color",
                "id": "product1_background_svg",
                "label": "Background Product Detatils"
            },
            {
                "type": "paragraph",
                "content": "Choose a product"
            },
            {
                "type": "product",
                "id": "product1",
                "label": "Product"
            },
            {
                "type": "text",
                "id": "product1_custom_title",
                "label": "Custom Title",
                "info": "if empty, the name of the product will be used"
            },
            {
                "type": "checkbox",
                "id": "product1_enable_toggle_content",
                "label": "Enable link to more product details",
                "info": "When enabled, when the user clicks on the link, the product details will open in a drawer"
            },
            {
                "type": "text",
                "id": "product1_toggle_content_label",
                "label": "Link to see more details",
                "default": "View details"
            },
            {
                "type": "paragraph",
                "content": "Custom product image"
            },
            {
                "type": "image_picker",
                "id": "product1_image",
                "label": "Product Image",
                "info": "if empty, the image of the product will be used"
            },
            {
                "type": "paragraph",
                "content": "Badge"
            },
            {
                "type": "color",
                "id": "product1_badge_background",
                "label": "Background",
                "default": "#000"
            },
            {
                "type": "color",
                "id": "product1_badge_label",
                "label": "Label",
                "default": "#fff"
            },
            {
                "type": "header",
                "content": "Drawer Product 1"
            },
            {
                "type": "checkbox",
                "id": "product1_enable_description",
                "label": "Enable product description",
                "info": "It will show product description"
            },
            {
                "type": "checkbox",
                "id": "product1_enable_custom_description",
                "label": "Enable custom description",
                "info": "To insert a custom description on field 'Custom Description'"
            },
            {
                "type": "text",
                "id": "product1_custom_description",
                "label": "Custom Description"
            },
            {
                "type": "checkbox",
                "id": "product1_enable_badge",
                "label": "Enable product badge",
                "info": "It will show product badge"
            },
            {
                "type": "text",
                "id": "product1_badge",
                "label": "Product Badge Text",
                "default": "GET MIX PACK 10% OFF"
            },
            {
                "type": "checkbox",
                "id": "product1_enable_link_label",
                "label": "Enable product link button"
            },
            {
                "type": "text",
                "id": "product1_link_label",
                "label": "Product Link",
                "default": "View Product"
            },
            {
                "type": "header",
                "content": "Product 2"
            },
            {
                "type": "paragraph",
                "content": "Custom background"
            },
            {
                "type": "color",
                "id": "product2_background",
                "label": "Background Product Item"
            },
            {
                "type": "color",
                "id": "product2_background_svg",
                "label": "Background Product Detatils"
            },
            {
                "type": "paragraph",
                "content": "Choose a product"
            },
            {
                "type": "product",
                "id": "product2",
                "label": "Product"
            },
            {
                "type": "text",
                "id": "product2_custom_title",
                "label": "Custom Title",
                "info": "if empty, the name of the product will be used"
            },
            {
                "type": "checkbox",
                "id": "product2_enable_toggle_content",
                "label": "Enable link to more product details",
                "info": "When enabled, when the user clicks on the link, the product details will open in a drawer"
            },
            {
                "type": "text",
                "id": "product2_toggle_content_label",
                "label": "Link to see more details",
                "default": "View details"
            },
            {
                "type": "paragraph",
                "content": "Custom product image"
            },
            {
                "type": "image_picker",
                "id": "product2_image",
                "label": "Product Image",
                "info": "if empty, the image of the product will be used"
            },
            {
                "type": "paragraph",
                "content": "Badge"
            },
            {
                "type": "color",
                "id": "product2_badge_background",
                "label": "Background",
                "default": "#000"
            },
            {
                "type": "color",
                "id": "product2_badge_label",
                "label": "Label",
                "default": "#fff"
            },
            {
                "type": "header",
                "content": "Drawer Product 2"
            },
            {
                "type": "checkbox",
                "id": "product2_enable_description",
                "label": "Enable product description",
                "info": "It will show product description"
            },
            {
                "type": "checkbox",
                "id": "product2_enable_custom_description",
                "label": "Enable custom description",
                "info": "To insert a custom description on field 'Custom Description'"
            },
            {
                "type": "text",
                "id": "product2_custom_description",
                "label": "Custom Description"
            },
            {
                "type": "checkbox",
                "id": "product2_enable_badge",
                "label": "Enable product badge",
                "info": "It will show product badge"
            },
            {
                "type": "text",
                "id": "product2_badge",
                "label": "Product Badge Text",
                "default": "GET MIX PACK 10% OFF"
            },
            {
                "type": "checkbox",
                "id": "product2_enable_link_label",
                "label": "Enable product link button"
            },
            {
                "type": "text",
                "id": "product2_link_label",
                "label": "Product Link",
                "default": "View Product"
            },
            {
                "type": "header",
                "content": "Colors General"
            },
            {
                "type": "color",
                "id": "title_color",
                "label": "Titles",
                "default": "#000"
            },
            {
                "type": "color",
                "id": "text_color",
                "label": "Description",
                "default": "#000"
            },
            {
                "type": "color",
                "id": "links",
                "label": "Links",
                "default": "#000"
            },
            {
                "type": "color",
                "id": "icons_color",
                "label": "Block Icon color",
                "default": "#aaaaaa",
                "info": "Only Icons SVG"
            },
            {
                "type": "header",
                "content": "Drawer General"
            },
            {
                "type": "paragraph",
                "content": "Block Icon"
            },
            {
                "type": "select",
                "id": "icons_text_direction",
                "label": "Block icon text direction",
                "options": [
                    {
                        "label": "Right",
                        "value": "row-reverse"
                    },
                    {
                        "label": "Left",
                        "value": "revert"
                    },
                    {
                        "label": "Above",
                        "value": "column"
                    },
                    {
                        "label": "Below",
                        "value": "column-reverse"
                    }
                ]
            },
            {
                "id": "vasta_badges_size",
                "type": "range",
                "min": 1,
                "max": 6,
                "step": 1,
                "label": "Blocks icon per row for desktop",
                "default": 4
            },
            {
                "id": "vasta_badges_size_tablet",
                "type": "range",
                "min": 1,
                "max": 6,
                "step": 1,
                "label": "Blocks icon per row for tablet",
                "default": 2
            },
            {
                "id": "vasta_badges_size_mobile",
                "type": "range",
                "min": 1,
                "max": 6,
                "step": 1,
                "label": "Blocks icon per row for mobile",
                "default": 2
            },
            {
                "id": "drawer_description_height",
                "type": "range",
                "min": 0,
                "max": 200,
                "unit": "px",
                "step": 2,
                "label": "Description Height",
                "default": 104
            },
            {
                "id": "drawer_description_height_tablet",
                "type": "range",
                "min": 0,
                "max": 200,
                "unit": "px",
                "step": 2,
                "label": "Description Height Tablet",
                "default": 120
            },
            {
                "id": "drawer_description_height_mobile",
                "type": "range",
                "min": 0,
                "max": 200,
                "unit": "px",
                "step": 2,
                "label": "Description Height Mobile",
                "default": 100
            }
        ],
        "blocks": [
            {
                "type": "icon",
                "name": "Icon",
                "settings": [
                {
                    "type": "text",
                    "id": "title",
                    "label": "Icon Title",
                    "default": "Title Example",
                    "placeholder": "Type Your Text Here"
                },
                {
                    "type": "textarea",
                    "id": "body_text",
                    "label": "Icon Body Text",
                    "default": "Text Example",
                    "placeholder": "Type Your Text Here"
                },
                {
                    "type": "checkbox",
                    "id": "use_custom_svg",
                    "label": "Enable Custom SVG",
                    "default": false
                },
                {
                    "type": "html",
                    "id": "custom_svg_html",
                    "label": "Custom SVG"
                },
                {
                    "type": "checkbox",
                    "id": "use_custom_image",
                    "label": "Enable Custom Image ",
                    "default": false
                },
                {
                    "type": "image_picker",
                    "id": "custom_img",
                    "label": "Custom Image",
                    "info": "32x32"
                },
                {
                    "type": "checkbox",
                    "id": "product1_enable_this_icon",
                    "label": "Show on drawer from Product 1",
                    "default": false
                },
                {
                    "type": "checkbox",
                    "id": "product2_enable_this_icon",
                    "label": "Show on drawer from Product 2",
                    "default": false
                }
            ]
        }],
        "presets": [
            {
            "name": "Product Highlights",
            "category": "Product Highlights"
            }
        ]
    }
{% endschema %}